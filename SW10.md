# ğŸ“˜ Woche 10 â€“ Anwendungsbeispiel: Bundesliga-Daten analysieren

In Woche 10 wurde eine vollstÃ¤ndige **datengetriebene Analyse** eines FuÃŸball-Datensatzes (Bundesliga) durchgefÃ¼hrt.  
Ziel war es, **ZusammenhÃ¤nge, Trends und Verteilungen** in Spieldaten aufzudecken â€“ mit Hilfe von Pandas.

---

## ğŸ“‚ Datenquelle: `bundesliga.csv`

### Daten einlesen
```python
import pandas as pd

df = pd.read_csv('bundesliga.csv')
```

### Ãœberblick Ã¼ber die Struktur
```python
df.info()
df.head()
df.describe()
```

---

## ğŸ“Š Zielvariablen & Spalten (Auswahl)

| Spalte         | Bedeutung                        |
|----------------|----------------------------------|
| `heim`         | Heimteam                         |
| `gast`         | Gastteam                         |
| `hs tore`      | Heimteam-Tore                    |
| `gs tore`      | Gastteam-Tore                    |
| `saison`       | Saisonjahr                       |
| `spieltag`     | Spieltag (1â€“34)                  |
| `zuschauer`    | Zuschaueranzahl (evtl. NaNs)     |
| `monat`        | Monat des Spiels                 |

---

## 1. ğŸ§¼ Daten bereinigen

### Datumswerte analysieren
```python
df['datum'] = pd.to_datetime(df['datum'])
df['jahr'] = df['datum'].dt.year
df['monat'] = df['datum'].dt.month
```

### Typische PrÃ¼fung auf NaNs
```python
df.isna().sum()
```

---

## 2. ğŸ¥… Neue Features erzeugen

### Differenz der Tore
```python
df['tor_diff'] = df['hs tore'] - df['gs tore']
```

### Ergebnis klassifizieren
```python
def ergebnis(row):
    if row['hs tore'] > row['gs tore']:
        return 'Heimsieg'
    elif row['hs tore'] < row['gs tore']:
        return 'AuswÃ¤rtssieg'
    else:
        return 'Unentschieden'

df['ergebnis'] = df.apply(ergebnis, axis=1)
```

---

## 3. ğŸ“ˆ HÃ¤ufigkeitsverteilungen

### Ergebnisverteilung (Heim/AuswÃ¤rts/Unentschieden)
```python
df['ergebnis'].value_counts(normalize=True)
```

> In der Bundesliga ist der **Heimsieg** das hÃ¤ufigste Ergebnis.

### Tore pro Spiel:
```python
df['total_tore'] = df['hs tore'] + df['gs tore']
df['total_tore'].hist(bins=20)
```

---

## 4. ğŸ¯ Gruppierungen & Aggregationen

### Durchschnittliche Tore pro Spieltag
```python
df.groupby('spieltag')[['hs tore', 'gs tore']].mean()
```

### Heim- vs. AuswÃ¤rtstore pro Saison
```python
df.groupby('saison')[['hs tore', 'gs tore']].mean().plot(kind='bar')
```

---

## 5. ğŸ‘¥ Zuschaueranalyse

### Durchschnittliche Zuschauer pro Heimteam
```python
df.groupby('heim')['zuschauer'].mean().sort_values(ascending=False)
```

### VerÃ¤nderung der Zuschauerzahlen Ã¼ber Saisons
```python
df.groupby('saison')['zuschauer'].mean().plot()
```

---

## 6. ğŸ† Analyse nach Mannschaften

### HÃ¶chste Durchschnittstorzahl pro Team:
```python
df.groupby('heim')['hs tore'].mean().sort_values(ascending=False)
```

### Teams mit den meisten Heimsiegen:
```python
df[df['ergebnis'] == 'Heimsieg'].groupby('heim').size().sort_values(ascending=False)
```

---

## 7. ğŸ” Analyse nach Monat

### Tor-Durchschnitt je Monat:
```python
df.groupby('monat')['total_tore'].mean()
```

### Ergebnisverteilung je Monat:
```python
df.groupby('monat')['ergebnis'].value_counts(normalize=True).unstack()
```

---

## 8. ğŸ“Œ Specials & Beobachtungen

- **Mehr Tore** werden im FrÃ¼hling erzielt (MÃ¤rzâ€“Mai).
- **Zuschauerzahlen** schwanken stark Ã¼ber Monate und Teams.
- **Heimvorteil** zeigt sich klar in den Ergebnissen.
- **Kombination von GroupBy & Apply** sehr mÃ¤chtig!

---

## âœ… Fazit Woche 10

Du kannst jetzt:

âœ… Echte Spieldaten einlesen und strukturieren  
âœ… Eigene Features generieren (z.â€¯B. Tordifferenz, Ergebnis)  
âœ… Gruppieren, aggregieren, filtern und visualisieren  
âœ… Sinnvolle Aussagen zu SpielverlÃ¤ufen und Mannschaftsverhalten treffen  

ğŸ§  Dieses Beispiel zeigt, wie du aus **Rohdaten wertvolle Erkenntnisse gewinnst** â€“  
das ist der Kern der **Datenanalyse mit Pandas**.
